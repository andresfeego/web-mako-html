!function(e,n,o){"use strict";function t(){e("html,body").addClass("lock")}function l(){e("html,body").removeClass("lock")}function a(a,c){var r,d=c;return a.length?a.each(function(){e(this).data(s+".options",d)}):e.extend(i,d),r={open:function(l){var c=a.get(0),d=e.extend({},i,e(c).data(s+".options"),l);e("."+d.overlayClass).length&&e.modal().close(),t();var u=e("<div/>").addClass(d.overlayClass).prependTo("body");u.data(s+".options",l),c&&(c=e(c).clone(!0).appendTo(u).show()),d.closeOnEsc&&e(o).bind("keyup."+s,function(e){27===e.keyCode&&r.close()}),d.closeOnOverlayClick&&e("."+d.overlayClass).on("click."+s,function(e){e.target===this&&r.close()}),e(o).bind("touchmove."+s,function(n){e(n).parents("."+d.overlayClass)||n.preventDefault()}),d.onOpen&&d.onOpen(u,d),c.on("resize",function(){c.css("marginLeft",(e(n).width()-c.outerWidth())/2)}).triggerHandler("resize")},close:function(){var n=(a.get(0),e.extend({},i,c)),t=e("."+n.overlayClass);e.extend(n,t.data(s+".options")),n.onClose&&n.onClose(t,n),t.remove(),l(),n.closeOnEsc&&e(o).unbind("keyup."+s)}}}var s="the-modal",i={overlayClass:"themodal-overlay",closeOnEsc:!0,closeOnOverlayClick:!0,onClose:null,onOpen:null};e.modal=function(n){return a(e(),n)},e.fn.modal=function(e){return a(this,e)},e.modal.getAvailableWidth=function(o){return Math.min(e(n).width()-100,o)},e.modal.getAvailableHeight=function(o){return Math.min(e(n).height()-100,o)}}(jQuery,window,document);